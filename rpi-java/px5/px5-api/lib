# javah -cp src/main/java -d src/main/cpp org.px5.io.jni.BTJoystick
# gcc -c -o target/org_px5_io_BTJoystick.o src/main/cpp/org_px5_io_BTJoystick.cpp
# /usr/lib/jvm/jdk-8-oracle-arm32-vfp-hflt

echo "compiling"
gcc -I${JAVA_HOME}/include -I${JAVA_HOME}/include/linux -fPIC -c -o target/btjoystick.o src/main/cpp/org_px5_io_jni_BTJoystick.c
echo "creating lib"
gcc -shared -Wl,-soname,libbtjoystick.so -o src/main/resources/libbtjoystick.so target/btjoystick.o
echo "done"

g++ -I${JAVA_HOME}/include -I${JAVA_HOME}/include/linux -fPIC -c -o target/btjoystick.o src/main/cpp/org_px5_io_jni_BTJoystick.c
g++ -fPIC -c -o target/controller.o src/main/cpp/controller.cpp
g++ -shared -Wl,-soname,libbtjoystick.so -o src/main/resources/libbtjoystick.so target/btjoystick.o target/controller.o
